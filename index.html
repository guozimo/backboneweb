<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
   <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
   
    <meta http-equiv="cache-control" content="no-cache">
     <meta name="format-detection" content="telephone=no"/>

    <title>backbone web</title>
    <script type="text/javascript">
        if (/AppleWebKit.*Mobile/i.test(navigator.userAgent) || (/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))) {
            //手机端浏览器
            if (/Android|Windows Phone|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {

            } else if (/iPad/i.test(navigator.userAgent)) {

            }
        } else {
            //pc端浏览器
        }
    </script>

    <link type="text/css" rel="stylesheet" href="css/index.css"/>
    <link type="text/css" rel="stylesheet" href="css/animate.css"/>
</head>
<body>
<div class="banner">
    <div class="inner" id="inner"></div>
    <div class="tip" id="tip"></div>
</div>
<div class='connect'>
    <p>经理：邢国销</p>
<p>联系电话：13911419161</p>
<p>公司地址：北京东燕郊开发区冶金路</p>

</div>
<div class="music">
    <audio src="video/2.mp3" loop preload="none"/></audio>
</div>

<div class="content" id="content">

</div>



<script charset="utf-8" type="text/javascript" src="js/index.js"></script>
<script charset="UTF-8" type="text/javascript" src="js/touch.js"></script>
 <script type="text/javascript" src="js/zepto.min.js"></script>
    <script type="text/javascript" src="js/html5.js"></script>
     <script type="text/javascript" src="js/underscore.js"></script>

     <script id="t2" type="text/template">
        <%_.each(datas, function(item) {%>
<div class="show">
        <div class="showleft fl">
        <p class="goods"><img class='imgs' src='./img/default.jpg' trueImg='<%=item.url1%>'></p>
        <p class="letter1"><%=item.title1%></p>
        <p class="price"><span class="fl"><%=item.price%></span></p>
        </div>
        <div class="showright fl">
            <p class="goods"><img class='imgs' src='./img/default.jpg' trueImg='<%=item.url2%>'></p>
        <p class="letter2"><%=item.title2%></p>
        <p class="price"><span class="fl"><%=item.price%></span></p>
        </div>
    </div>
        <%});%>
    </script>

<script type="text/javascript">
var len=$(".list li").length;
var leng=Number(len+1);

    $(".list").css("width",parseFloat($(".list li").width()*leng)+"px");
    $("#checklist").click(function(){
        //alert(100);
        $(this).css("color","red");
    })
    
/*用模板引擎模拟数据的添加*/

    var datas = [
            {
                title1: "水刀切割",
                 title2: "镂空铝板",
                price: "￥氧化铝板",
              
                url1:"./img/1.jpg",
                 url2:"./img/2.jpg"
            },
            {
                 title1: "阳极氧化建筑",
                 title2: "镂花铝板",
                 price: "￥氧化铝板",
              
                url1:"./img/3.jpg",
                 url2:"./img/4.jpg"
            },
            {
                 title1: "阳极氧化过程",
                 title2: "镂花铝板",
                 price: "￥氧化铝板",
             
                url1:"./img/5.jpg",
                 url2:"./img/6.jpg"
            },
            {
                title1: "氧化铝板工程",
                 title2: "阳极氧化过程",
                 price: "￥氧化铝板",
               
                url1:"./img/7.jpg",
                 url2:"./img/8.jpg"
            },
            {
                 title1: "打孔铝板",
                 title2: "打孔铝板",
                 price: "￥氧化铝板",
               
               url1:"./img/9.jpg",
                 url2:"./img/10.jpg"
            },
            {
                 title1: "阳极氧化铝板工程",
                 title2: "镂空铝板",
                price: "￥氧化铝板",
               
               url1:"./img/11.jpg",
                 url2:"./img/12.jpg"
            },
            {
                 title1: "阳极氧化铝板加工过程",
                 title2: "打孔铝板",
                 price: "￥氧化铝板",
                
                url1:"./img/13.jpg",
                 url2:"./img/14.jpg"
            },
            {
                title1: "阳极氧化铝板加工过程",
                 title2: "阳极氧化铝板工程",
                price: "￥氧化铝板",
              
                url1:"./img/15.jpg",
                 url2:"./img/16.jpg"
            },
            {
                title1: "阳极氧化铝板加工过程",
                 title2: "阳极氧化铝板工程",
                price: "￥氧化铝板",
                url1:"./img/17.jpg",
                 url2:"./img/18.jpg"
            },
            {
               title1: "阳极氧化铝板工程",
                 title2: "阳极氧化铝板工程",
                 price: "￥氧化铝板",
                url1:"./img/19.jpg",
                 url2:"./img/20.jpg"
            }
           
        ];  
            
        $("#content").html( _.template($("#t2").html(), datas));

function offset(curEle) {
    var l = curEle.offsetLeft, t = curEle.offsetTop;
    var p = curEle.offsetParent;
    while (p.tagName.toLowerCase() != "body") {
        if (navigator.userAgent.indexOf("MSIE 8.0") === -1) {
            l += p.clientLeft;
            t += p.clientTop;
        }
        l += p.offsetLeft;
        t += p.offsetTop;
        p = p.offsetParent;
    }
    return {left: l, top: t};
}
var content=document.getElementById("content");
var imgList = content.getElementsByTagName("img");
var winH = document.documentElement.clientHeight || document.body.clientHeight;

function delayImg() {
    for (var i = 0; i < imgList.length; i++) {
        ~function (i) {
            delayImgCode(i);
        }(i);
    }
}

function delayImgCode(i) {
    var curImg = imgList[i];
    //var warn=document.getElementsByClassName("warn");
    


    //->如果当前图片还没有加载真实的我们开始加载
    if (!curImg.isLoad) {

        //->获取的是当前每一张图片自己距离body的上偏移量
        var curImgT = offset(curImg).top + curImg.offsetHeight;
        //->获取浏览器当前底边框距离body的上偏移
        var winT = (document.documentElement.scrollTop || document.body.scrollTop) + winH;
        //->说明我们的图片已经出现在整个浏览器窗口中,开始加载真实的图片
        if (winT >= curImgT) {
            var trueImg = curImg.getAttribute("trueImg");
            var oImg = new Image;

            oImg.src = trueImg;
            oImg.onload = function () {
                curImg.src = trueImg;
            

                oImg = null;
            };
            curImg.isLoad = true;
        }
    }
}

window.onscroll = delayImg;
window.onscroll();
</script>

</body>
</html>